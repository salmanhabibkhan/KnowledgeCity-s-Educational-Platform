"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.KarpenterControllerPolicyV1 = exports.KarpenterControllerPolicyBeta = exports.KarpenterControllerPolicy = void 0;
const aws_cdk_lib_1 = require("aws-cdk-lib");
// IAM Policy for Alpha CRD Karpenter addons
exports.KarpenterControllerPolicy = {
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": [
                // Write Operations
                "ec2:CreateLaunchTemplate",
                "ec2:CreateFleet",
                "ec2:RunInstances",
                "ec2:CreateTags",
                "ec2:TerminateInstances",
                "ec2:DeleteLaunchTemplate",
                // Read Operations
                "ec2:DescribeLaunchTemplates",
                "ec2:DescribeInstances",
                "ec2:DescribeSecurityGroups",
                "ec2:DescribeSubnets",
                "ec2:DescribeImages",
                "ec2:DescribeInstanceTypes",
                "ec2:DescribeInstanceTypeOfferings",
                "ec2:DescribeAvailabilityZones",
                "ec2:DescribeSpotPriceHistory",
                "ssm:GetParameter",
                "pricing:GetProducts",
            ],
            "Resource": "*"
        }
    ]
};
// IAM Policy for Beta CRD Karpenter addons
const KarpenterControllerPolicyBeta = (cluster, partition, region) => {
    const condition1 = new aws_cdk_lib_1.CfnJson(cluster.stack, 'condition-owned-request-tag', {
        value: {
            [`aws:RequestTag/kubernetes.io/cluster/${cluster.clusterName}`]: "owned"
        },
    });
    const condition2 = new aws_cdk_lib_1.CfnJson(cluster.stack, 'condition-owned-resource-tag', {
        value: {
            [`aws:ResourceTag/kubernetes.io/cluster/${cluster.clusterName}`]: "owned"
        },
    });
    const condition3 = new aws_cdk_lib_1.CfnJson(cluster.stack, 'condition-owned-request-tag-topology', {
        value: {
            [`aws:RequestTag/kubernetes.io/cluster/${cluster.clusterName}`]: "owned",
            "aws:RequestTag/topology.kubernetes.io/region": `${region}`
        },
    });
    const condition4 = new aws_cdk_lib_1.CfnJson(cluster.stack, 'condition-request-resource-tags', {
        value: {
            [`aws:ResourceTag/kubernetes.io/cluster/${cluster.clusterName}`]: "owned",
            [`aws:RequestTag/kubernetes.io/cluster/${cluster.clusterName}`]: "owned",
            "aws:ResourceTag/topology.kubernetes.io/region": `${region}`,
            "aws:RequestTag/topology.kubernetes.io/region": `${region}`
        }
    });
    const condition5 = new aws_cdk_lib_1.CfnJson(cluster.stack, 'condition-owned-resource-tag-topology', {
        value: {
            [`aws:ResourceTag/kubernetes.io/cluster/${cluster.clusterName}`]: "owned",
            "aws:ResourceTag/topology.kubernetes.io/region": `${region}`
        }
    });
    const condition6 = new aws_cdk_lib_1.CfnJson(cluster.stack, 'condition-owned-cluster-tag-ec2-actions', {
        value: {
            [`aws:RequestTag/kubernetes.io/cluster/${cluster.clusterName}`]: "owned",
            "ec2:CreateAction": ["RunInstances", "CreateFleet", "CreateLaunchTemplate"]
        },
    });
    return {
        "Version": "2012-10-17",
        "Statement": [
            {
                "Sid": "AllowScopedEC2InstanceActions",
                "Effect": "Allow",
                "Resource": [
                    `arn:${partition}:ec2:${region}::image/*`,
                    `arn:${partition}:ec2:${region}::snapshot/*`,
                    `arn:${partition}:ec2:${region}:*:spot-instances-request/*`,
                    `arn:${partition}:ec2:${region}:*:security-group/*`,
                    `arn:${partition}:ec2:${region}:*:subnet/*`,
                    `arn:${partition}:ec2:${region}:*:launch-template/*`
                ],
                "Action": [
                    "ec2:RunInstances",
                    "ec2:CreateFleet"
                ]
            },
            {
                "Sid": "AllowScopedEC2InstanceActionsWithTags",
                "Effect": "Allow",
                "Resource": [
                    `arn:${partition}:ec2:${region}:*:fleet/*`,
                    `arn:${partition}:ec2:${region}:*:instance/*`,
                    `arn:${partition}:ec2:${region}:*:volume/*`,
                    `arn:${partition}:ec2:${region}:*:network-interface/*`,
                    `arn:${partition}:ec2:${region}:*:launch-template/*`,
                    `arn:${partition}:ec2:${region}:*:spot-instances-request/*`
                ],
                "Action": [
                    "ec2:RunInstances",
                    "ec2:CreateFleet",
                    "ec2:CreateLaunchTemplate"
                ],
                "Condition": {
                    "StringEquals": condition1,
                    "StringLike": {
                        "aws:RequestTag/karpenter.sh/nodepool": "*"
                    }
                },
            },
            {
                "Sid": "AllowScopedResourceCreationTagging",
                "Effect": "Allow",
                "Resource": [
                    `arn:${partition}:ec2:${region}:*:fleet/*`,
                    `arn:${partition}:ec2:${region}:*:instance/*`,
                    `arn:${partition}:ec2:${region}:*:volume/*`,
                    `arn:${partition}:ec2:${region}:*:network-interface/*`,
                    `arn:${partition}:ec2:${region}:*:launch-template/*`,
                    `arn:${partition}:ec2:${region}:*:spot-instances-request/*`
                ],
                "Action": "ec2:CreateTags",
                "Condition": {
                    "StringEquals": condition6,
                    "StringLike": {
                        "aws:RequestTag/karpenter.sh/nodepool": "*"
                    }
                }
            },
            {
                "Sid": "AllowScopedResourceTagging",
                "Effect": "Allow",
                "Resource": `arn:${partition}:ec2:${region}:*:instance/*`,
                "Action": "ec2:CreateTags",
                "Condition": {
                    "StringEquals": condition2,
                    "StringLike": {
                        "aws:ResourceTag/karpenter.sh/nodepool": "*"
                    },
                    "ForAllValues:StringEquals": {
                        "aws:TagKeys": [
                            "karpenter.sh/nodeclaim",
                            "Name"
                        ]
                    }
                }
            },
            {
                "Sid": "AllowScopedDeletion",
                "Effect": "Allow",
                "Resource": [
                    `arn:${partition}:ec2:${region}:*:instance/*`,
                    `arn:${partition}:ec2:${region}:*:launch-template/*`
                ],
                "Action": [
                    "ec2:TerminateInstances",
                    "ec2:DeleteLaunchTemplate"
                ],
                "Condition": {
                    "StringEquals": condition2,
                    "StringLike": {
                        "aws:ResourceTag/karpenter.sh/nodepool": "*"
                    }
                }
            },
            {
                "Sid": "AllowRegionalReadActions",
                "Effect": "Allow",
                "Resource": "*",
                "Action": [
                    "ec2:DescribeAvailabilityZones",
                    "ec2:DescribeImages",
                    "ec2:DescribeInstances",
                    "ec2:DescribeInstanceTypeOfferings",
                    "ec2:DescribeInstanceTypes",
                    "ec2:DescribeLaunchTemplates",
                    "ec2:DescribeSecurityGroups",
                    "ec2:DescribeSpotPriceHistory",
                    "ec2:DescribeSubnets"
                ],
                "Condition": {
                    "StringEquals": {
                        "aws:RequestedRegion": `${region}`
                    }
                }
            },
            {
                "Sid": "AllowSSMReadActions",
                "Effect": "Allow",
                "Resource": `arn:${partition}:ssm:${region}::parameter/aws/service/*`,
                "Action": "ssm:GetParameter"
            },
            {
                "Sid": "AllowPricingReadActions",
                "Effect": "Allow",
                "Resource": "*",
                "Action": "pricing:GetProducts"
            },
            {
                "Sid": "AllowScopedInstanceProfileCreationActions",
                "Effect": "Allow",
                "Resource": "*",
                "Action": [
                    "iam:CreateInstanceProfile"
                ],
                "Condition": {
                    "StringEquals": condition3,
                    "StringLike": {
                        "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass": "*"
                    }
                }
            },
            {
                "Sid": "AllowScopedInstanceProfileTagActions",
                "Effect": "Allow",
                "Resource": "*",
                "Action": [
                    "iam:TagInstanceProfile"
                ],
                "Condition": {
                    "StringEquals": condition4,
                    "StringLike": {
                        "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass": "*",
                        "aws:RequestTag/karpenter.k8s.aws/ec2nodeclass": "*"
                    }
                }
            },
            {
                "Sid": "AllowScopedInstanceProfileActions",
                "Effect": "Allow",
                "Resource": "*",
                "Action": [
                    "iam:AddRoleToInstanceProfile",
                    "iam:RemoveRoleFromInstanceProfile",
                    "iam:DeleteInstanceProfile"
                ],
                "Condition": {
                    "StringEquals": condition5,
                    "StringLike": {
                        "aws:ResourceTag/karpenter.k8s.aws/ec2nodeclass": "*"
                    }
                }
            },
            {
                "Sid": "AllowInstanceProfileReadActions",
                "Effect": "Allow",
                "Resource": "*",
                "Action": "iam:GetInstanceProfile"
            },
            {
                "Sid": "AllowAPIServerEndpointDiscovery",
                "Effect": "Allow",
                "Resource": `${cluster.clusterArn}`,
                "Action": "eks:DescribeCluster"
            }
        ]
    };
};
exports.KarpenterControllerPolicyBeta = KarpenterControllerPolicyBeta;
exports.KarpenterControllerPolicyV1 = exports.KarpenterControllerPolicyBeta;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWFtLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vbGliL2FkZG9ucy9rYXJwZW50ZXIvaWFtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDZDQUFzQztBQUd0Qyw0Q0FBNEM7QUFDL0IsUUFBQSx5QkFBeUIsR0FBRztJQUNyQyxTQUFTLEVBQUUsWUFBWTtJQUN2QixXQUFXLEVBQUU7UUFDVDtZQUNJLFFBQVEsRUFBRSxPQUFPO1lBQ2pCLFFBQVEsRUFBRTtnQkFDVixtQkFBbUI7Z0JBQ2YsMEJBQTBCO2dCQUMxQixpQkFBaUI7Z0JBQ2pCLGtCQUFrQjtnQkFDbEIsZ0JBQWdCO2dCQUNoQix3QkFBd0I7Z0JBQ3hCLDBCQUEwQjtnQkFDOUIsa0JBQWtCO2dCQUNkLDZCQUE2QjtnQkFDN0IsdUJBQXVCO2dCQUN2Qiw0QkFBNEI7Z0JBQzVCLHFCQUFxQjtnQkFDckIsb0JBQW9CO2dCQUNwQiwyQkFBMkI7Z0JBQzNCLG1DQUFtQztnQkFDbkMsK0JBQStCO2dCQUMvQiw4QkFBOEI7Z0JBQzlCLGtCQUFrQjtnQkFDbEIscUJBQXFCO2FBQ3hCO1lBQ0QsVUFBVSxFQUFFLEdBQUc7U0FDbEI7S0FDSjtDQUNKLENBQUM7QUFFRiwyQ0FBMkM7QUFDcEMsTUFBTSw2QkFBNkIsR0FBRyxDQUFDLE9BQWdCLEVBQUUsU0FBaUIsRUFBRSxNQUFjLEVBQUUsRUFBRTtJQUNqRyxNQUFNLFVBQVUsR0FBRyxJQUFJLHFCQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSw2QkFBNkIsRUFBRTtRQUN6RSxLQUFLLEVBQUU7WUFDSCxDQUFDLHdDQUF3QyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxPQUFPO1NBQzNFO0tBQ0osQ0FBQyxDQUFDO0lBQ0gsTUFBTSxVQUFVLEdBQUcsSUFBSSxxQkFBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsOEJBQThCLEVBQUU7UUFDMUUsS0FBSyxFQUFFO1lBQ0gsQ0FBQyx5Q0FBeUMsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUsT0FBTztTQUM1RTtLQUNKLENBQUMsQ0FBQztJQUNILE1BQU0sVUFBVSxHQUFHLElBQUkscUJBQU8sQ0FBQyxPQUFPLENBQUMsS0FBSyxFQUFFLHNDQUFzQyxFQUFFO1FBQ2xGLEtBQUssRUFBRTtZQUNILENBQUMsd0NBQXdDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLE9BQU87WUFDeEUsOENBQThDLEVBQUUsR0FBRyxNQUFNLEVBQUU7U0FDOUQ7S0FDSixDQUFDLENBQUM7SUFDSCxNQUFNLFVBQVUsR0FBRyxJQUFJLHFCQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxpQ0FBaUMsRUFBRTtRQUM3RSxLQUFLLEVBQUU7WUFDSCxDQUFDLHlDQUF5QyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxPQUFPO1lBQ3pFLENBQUMsd0NBQXdDLE9BQU8sQ0FBQyxXQUFXLEVBQUUsQ0FBQyxFQUFFLE9BQU87WUFDeEUsK0NBQStDLEVBQUUsR0FBRyxNQUFNLEVBQUU7WUFDNUQsOENBQThDLEVBQUUsR0FBRyxNQUFNLEVBQUU7U0FDOUQ7S0FDSixDQUFDLENBQUM7SUFDSCxNQUFNLFVBQVUsR0FBRyxJQUFJLHFCQUFPLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSx1Q0FBdUMsRUFBRTtRQUNuRixLQUFLLEVBQUU7WUFDSCxDQUFDLHlDQUF5QyxPQUFPLENBQUMsV0FBVyxFQUFFLENBQUMsRUFBRSxPQUFPO1lBQ3pFLCtDQUErQyxFQUFFLEdBQUcsTUFBTSxFQUFFO1NBQy9EO0tBQ0osQ0FBQyxDQUFDO0lBQ0gsTUFBTSxVQUFVLEdBQUcsSUFBSSxxQkFBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUseUNBQXlDLEVBQUU7UUFDckYsS0FBSyxFQUFFO1lBQ0gsQ0FBQyx3Q0FBd0MsT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDLEVBQUUsT0FBTztZQUN4RSxrQkFBa0IsRUFBRSxDQUFDLGNBQWMsRUFBRSxhQUFhLEVBQUUsc0JBQXNCLENBQUM7U0FDOUU7S0FDSixDQUFDLENBQUM7SUFHSCxPQUFPO1FBQ0gsU0FBUyxFQUFFLFlBQVk7UUFDdkIsV0FBVyxFQUFFO1lBQ1Q7Z0JBQ0ksS0FBSyxFQUFFLCtCQUErQjtnQkFDdEMsUUFBUSxFQUFFLE9BQU87Z0JBQ2pCLFVBQVUsRUFBRTtvQkFDUixPQUFPLFNBQVMsUUFBUSxNQUFNLFdBQVc7b0JBQ3pDLE9BQU8sU0FBUyxRQUFRLE1BQU0sY0FBYztvQkFDNUMsT0FBTyxTQUFTLFFBQVEsTUFBTSw2QkFBNkI7b0JBQzNELE9BQU8sU0FBUyxRQUFRLE1BQU0scUJBQXFCO29CQUNuRCxPQUFPLFNBQVMsUUFBUSxNQUFNLGFBQWE7b0JBQzNDLE9BQU8sU0FBUyxRQUFRLE1BQU0sc0JBQXNCO2lCQUN2RDtnQkFDRCxRQUFRLEVBQUU7b0JBQ04sa0JBQWtCO29CQUNsQixpQkFBaUI7aUJBQ3BCO2FBQ0o7WUFDRDtnQkFDSSxLQUFLLEVBQUUsdUNBQXVDO2dCQUM5QyxRQUFRLEVBQUUsT0FBTztnQkFDakIsVUFBVSxFQUFFO29CQUNSLE9BQU8sU0FBUyxRQUFRLE1BQU0sWUFBWTtvQkFDMUMsT0FBTyxTQUFTLFFBQVEsTUFBTSxlQUFlO29CQUM3QyxPQUFPLFNBQVMsUUFBUSxNQUFNLGFBQWE7b0JBQzNDLE9BQU8sU0FBUyxRQUFRLE1BQU0sd0JBQXdCO29CQUN0RCxPQUFPLFNBQVMsUUFBUSxNQUFNLHNCQUFzQjtvQkFDcEQsT0FBTyxTQUFTLFFBQVEsTUFBTSw2QkFBNkI7aUJBQzlEO2dCQUNELFFBQVEsRUFBRTtvQkFDTixrQkFBa0I7b0JBQ2xCLGlCQUFpQjtvQkFDakIsMEJBQTBCO2lCQUM3QjtnQkFDRCxXQUFXLEVBQUU7b0JBQ1QsY0FBYyxFQUFFLFVBQVU7b0JBQzFCLFlBQVksRUFBRTt3QkFDVixzQ0FBc0MsRUFBRSxHQUFHO3FCQUM5QztpQkFDSjthQUNKO1lBQ0Q7Z0JBQ0ksS0FBSyxFQUFFLG9DQUFvQztnQkFDM0MsUUFBUSxFQUFFLE9BQU87Z0JBQ2pCLFVBQVUsRUFBRTtvQkFDUixPQUFPLFNBQVMsUUFBUSxNQUFNLFlBQVk7b0JBQzFDLE9BQU8sU0FBUyxRQUFRLE1BQU0sZUFBZTtvQkFDN0MsT0FBTyxTQUFTLFFBQVEsTUFBTSxhQUFhO29CQUMzQyxPQUFPLFNBQVMsUUFBUSxNQUFNLHdCQUF3QjtvQkFDdEQsT0FBTyxTQUFTLFFBQVEsTUFBTSxzQkFBc0I7b0JBQ3BELE9BQU8sU0FBUyxRQUFRLE1BQU0sNkJBQTZCO2lCQUM5RDtnQkFDRCxRQUFRLEVBQUUsZ0JBQWdCO2dCQUMxQixXQUFXLEVBQUU7b0JBQ1QsY0FBYyxFQUFFLFVBQVU7b0JBQzFCLFlBQVksRUFBRTt3QkFDVixzQ0FBc0MsRUFBRSxHQUFHO3FCQUM5QztpQkFDSjthQUNKO1lBQ0Q7Z0JBQ0ksS0FBSyxFQUFFLDRCQUE0QjtnQkFDbkMsUUFBUSxFQUFFLE9BQU87Z0JBQ2pCLFVBQVUsRUFBRSxPQUFPLFNBQVMsUUFBUSxNQUFNLGVBQWU7Z0JBQ3pELFFBQVEsRUFBRSxnQkFBZ0I7Z0JBQzFCLFdBQVcsRUFBRTtvQkFDVCxjQUFjLEVBQUUsVUFBVTtvQkFDMUIsWUFBWSxFQUFFO3dCQUNWLHVDQUF1QyxFQUFFLEdBQUc7cUJBQy9DO29CQUNELDJCQUEyQixFQUFFO3dCQUN6QixhQUFhLEVBQUU7NEJBQ1gsd0JBQXdCOzRCQUN4QixNQUFNO3lCQUNUO3FCQUNKO2lCQUNKO2FBQ0o7WUFDRDtnQkFDSSxLQUFLLEVBQUUscUJBQXFCO2dCQUM1QixRQUFRLEVBQUUsT0FBTztnQkFDakIsVUFBVSxFQUFFO29CQUNSLE9BQU8sU0FBUyxRQUFRLE1BQU0sZUFBZTtvQkFDN0MsT0FBTyxTQUFTLFFBQVEsTUFBTSxzQkFBc0I7aUJBQ3ZEO2dCQUNELFFBQVEsRUFBRTtvQkFDTix3QkFBd0I7b0JBQ3hCLDBCQUEwQjtpQkFDN0I7Z0JBQ0QsV0FBVyxFQUFFO29CQUNULGNBQWMsRUFBRSxVQUFVO29CQUMxQixZQUFZLEVBQUU7d0JBQ1YsdUNBQXVDLEVBQUUsR0FBRztxQkFDL0M7aUJBQ0o7YUFDSjtZQUNEO2dCQUNJLEtBQUssRUFBRSwwQkFBMEI7Z0JBQ2pDLFFBQVEsRUFBRSxPQUFPO2dCQUNqQixVQUFVLEVBQUUsR0FBRztnQkFDZixRQUFRLEVBQUU7b0JBQ04sK0JBQStCO29CQUMvQixvQkFBb0I7b0JBQ3BCLHVCQUF1QjtvQkFDdkIsbUNBQW1DO29CQUNuQywyQkFBMkI7b0JBQzNCLDZCQUE2QjtvQkFDN0IsNEJBQTRCO29CQUM1Qiw4QkFBOEI7b0JBQzlCLHFCQUFxQjtpQkFDeEI7Z0JBQ0QsV0FBVyxFQUFFO29CQUNULGNBQWMsRUFBRTt3QkFDWixxQkFBcUIsRUFBRSxHQUFHLE1BQU0sRUFBRTtxQkFDckM7aUJBQ0o7YUFDSjtZQUNEO2dCQUNJLEtBQUssRUFBRSxxQkFBcUI7Z0JBQzVCLFFBQVEsRUFBRSxPQUFPO2dCQUNqQixVQUFVLEVBQUUsT0FBTyxTQUFTLFFBQVEsTUFBTSwyQkFBMkI7Z0JBQ3JFLFFBQVEsRUFBRSxrQkFBa0I7YUFDL0I7WUFDRDtnQkFDSSxLQUFLLEVBQUUseUJBQXlCO2dCQUNoQyxRQUFRLEVBQUUsT0FBTztnQkFDakIsVUFBVSxFQUFFLEdBQUc7Z0JBQ2YsUUFBUSxFQUFFLHFCQUFxQjthQUNsQztZQUNEO2dCQUNJLEtBQUssRUFBRSwyQ0FBMkM7Z0JBQ2xELFFBQVEsRUFBRSxPQUFPO2dCQUNqQixVQUFVLEVBQUUsR0FBRztnQkFDZixRQUFRLEVBQUU7b0JBQ04sMkJBQTJCO2lCQUM5QjtnQkFDRCxXQUFXLEVBQUU7b0JBQ1QsY0FBYyxFQUFFLFVBQVU7b0JBQzFCLFlBQVksRUFBRTt3QkFDViwrQ0FBK0MsRUFBRSxHQUFHO3FCQUN2RDtpQkFDSjthQUNKO1lBQ0Q7Z0JBQ0ksS0FBSyxFQUFFLHNDQUFzQztnQkFDN0MsUUFBUSxFQUFFLE9BQU87Z0JBQ2pCLFVBQVUsRUFBRSxHQUFHO2dCQUNmLFFBQVEsRUFBRTtvQkFDTix3QkFBd0I7aUJBQzNCO2dCQUNELFdBQVcsRUFBRTtvQkFDVCxjQUFjLEVBQUUsVUFBVTtvQkFDMUIsWUFBWSxFQUFFO3dCQUNWLGdEQUFnRCxFQUFFLEdBQUc7d0JBQ3JELCtDQUErQyxFQUFFLEdBQUc7cUJBQ3ZEO2lCQUNKO2FBQ0o7WUFDRDtnQkFDSSxLQUFLLEVBQUUsbUNBQW1DO2dCQUMxQyxRQUFRLEVBQUUsT0FBTztnQkFDakIsVUFBVSxFQUFFLEdBQUc7Z0JBQ2YsUUFBUSxFQUFFO29CQUNOLDhCQUE4QjtvQkFDOUIsbUNBQW1DO29CQUNuQywyQkFBMkI7aUJBQzlCO2dCQUNELFdBQVcsRUFBRTtvQkFDVCxjQUFjLEVBQUUsVUFBVTtvQkFDMUIsWUFBWSxFQUFFO3dCQUNWLGdEQUFnRCxFQUFFLEdBQUc7cUJBQ3hEO2lCQUNKO2FBQ0o7WUFDRDtnQkFDSSxLQUFLLEVBQUUsaUNBQWlDO2dCQUN4QyxRQUFRLEVBQUUsT0FBTztnQkFDakIsVUFBVSxFQUFFLEdBQUc7Z0JBQ2YsUUFBUSxFQUFFLHdCQUF3QjthQUNyQztZQUNEO2dCQUNJLEtBQUssRUFBRSxpQ0FBaUM7Z0JBQ3hDLFFBQVEsRUFBRSxPQUFPO2dCQUNqQixVQUFVLEVBQUUsR0FBRyxPQUFPLENBQUMsVUFBVSxFQUFFO2dCQUNuQyxRQUFRLEVBQUUscUJBQXFCO2FBQ2xDO1NBQ0o7S0FDSixDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBcE9XLFFBQUEsNkJBQTZCLGlDQW9PeEM7QUFFVyxRQUFBLDJCQUEyQixHQUFHLHFDQUE2QixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ2ZuSnNvbiB9IGZyb20gXCJhd3MtY2RrLWxpYlwiO1xuaW1wb3J0IHsgQ2x1c3RlciB9IGZyb20gXCJhd3MtY2RrLWxpYi9hd3MtZWtzXCI7XG5cbi8vIElBTSBQb2xpY3kgZm9yIEFscGhhIENSRCBLYXJwZW50ZXIgYWRkb25zXG5leHBvcnQgY29uc3QgS2FycGVudGVyQ29udHJvbGxlclBvbGljeSA9IHtcbiAgICBcIlZlcnNpb25cIjogXCIyMDEyLTEwLTE3XCIsXG4gICAgXCJTdGF0ZW1lbnRcIjogW1xuICAgICAgICB7XG4gICAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgICBcIkFjdGlvblwiOiBbXG4gICAgICAgICAgICAvLyBXcml0ZSBPcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgXCJlYzI6Q3JlYXRlTGF1bmNoVGVtcGxhdGVcIixcbiAgICAgICAgICAgICAgICBcImVjMjpDcmVhdGVGbGVldFwiLFxuICAgICAgICAgICAgICAgIFwiZWMyOlJ1bkluc3RhbmNlc1wiLFxuICAgICAgICAgICAgICAgIFwiZWMyOkNyZWF0ZVRhZ3NcIixcbiAgICAgICAgICAgICAgICBcImVjMjpUZXJtaW5hdGVJbnN0YW5jZXNcIixcbiAgICAgICAgICAgICAgICBcImVjMjpEZWxldGVMYXVuY2hUZW1wbGF0ZVwiLFxuICAgICAgICAgICAgLy8gUmVhZCBPcGVyYXRpb25zXG4gICAgICAgICAgICAgICAgXCJlYzI6RGVzY3JpYmVMYXVuY2hUZW1wbGF0ZXNcIixcbiAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZUluc3RhbmNlc1wiLFxuICAgICAgICAgICAgICAgIFwiZWMyOkRlc2NyaWJlU2VjdXJpdHlHcm91cHNcIixcbiAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZVN1Ym5ldHNcIixcbiAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZUltYWdlc1wiLFxuICAgICAgICAgICAgICAgIFwiZWMyOkRlc2NyaWJlSW5zdGFuY2VUeXBlc1wiLFxuICAgICAgICAgICAgICAgIFwiZWMyOkRlc2NyaWJlSW5zdGFuY2VUeXBlT2ZmZXJpbmdzXCIsXG4gICAgICAgICAgICAgICAgXCJlYzI6RGVzY3JpYmVBdmFpbGFiaWxpdHlab25lc1wiLFxuICAgICAgICAgICAgICAgIFwiZWMyOkRlc2NyaWJlU3BvdFByaWNlSGlzdG9yeVwiLFxuICAgICAgICAgICAgICAgIFwic3NtOkdldFBhcmFtZXRlclwiLFxuICAgICAgICAgICAgICAgIFwicHJpY2luZzpHZXRQcm9kdWN0c1wiLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIFwiUmVzb3VyY2VcIjogXCIqXCJcbiAgICAgICAgfVxuICAgIF1cbn07XG5cbi8vIElBTSBQb2xpY3kgZm9yIEJldGEgQ1JEIEthcnBlbnRlciBhZGRvbnNcbmV4cG9ydCBjb25zdCBLYXJwZW50ZXJDb250cm9sbGVyUG9saWN5QmV0YSA9IChjbHVzdGVyOiBDbHVzdGVyLCBwYXJ0aXRpb246IHN0cmluZywgcmVnaW9uOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCBjb25kaXRpb24xID0gbmV3IENmbkpzb24oY2x1c3Rlci5zdGFjaywgJ2NvbmRpdGlvbi1vd25lZC1yZXF1ZXN0LXRhZycsIHtcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgIFtgYXdzOlJlcXVlc3RUYWcva3ViZXJuZXRlcy5pby9jbHVzdGVyLyR7Y2x1c3Rlci5jbHVzdGVyTmFtZX1gXTogXCJvd25lZFwiXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3QgY29uZGl0aW9uMiA9IG5ldyBDZm5Kc29uKGNsdXN0ZXIuc3RhY2ssICdjb25kaXRpb24tb3duZWQtcmVzb3VyY2UtdGFnJywge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgW2Bhd3M6UmVzb3VyY2VUYWcva3ViZXJuZXRlcy5pby9jbHVzdGVyLyR7Y2x1c3Rlci5jbHVzdGVyTmFtZX1gXTogXCJvd25lZFwiXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgY29uc3QgY29uZGl0aW9uMyA9IG5ldyBDZm5Kc29uKGNsdXN0ZXIuc3RhY2ssICdjb25kaXRpb24tb3duZWQtcmVxdWVzdC10YWctdG9wb2xvZ3knLCB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBbYGF3czpSZXF1ZXN0VGFnL2t1YmVybmV0ZXMuaW8vY2x1c3Rlci8ke2NsdXN0ZXIuY2x1c3Rlck5hbWV9YF06IFwib3duZWRcIixcbiAgICAgICAgICAgIFwiYXdzOlJlcXVlc3RUYWcvdG9wb2xvZ3kua3ViZXJuZXRlcy5pby9yZWdpb25cIjogYCR7cmVnaW9ufWBcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICBjb25zdCBjb25kaXRpb240ID0gbmV3IENmbkpzb24oY2x1c3Rlci5zdGFjaywgJ2NvbmRpdGlvbi1yZXF1ZXN0LXJlc291cmNlLXRhZ3MnLCB7XG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICBbYGF3czpSZXNvdXJjZVRhZy9rdWJlcm5ldGVzLmlvL2NsdXN0ZXIvJHtjbHVzdGVyLmNsdXN0ZXJOYW1lfWBdOiBcIm93bmVkXCIsXG4gICAgICAgICAgICBbYGF3czpSZXF1ZXN0VGFnL2t1YmVybmV0ZXMuaW8vY2x1c3Rlci8ke2NsdXN0ZXIuY2x1c3Rlck5hbWV9YF06IFwib3duZWRcIixcbiAgICAgICAgICAgIFwiYXdzOlJlc291cmNlVGFnL3RvcG9sb2d5Lmt1YmVybmV0ZXMuaW8vcmVnaW9uXCI6IGAke3JlZ2lvbn1gLFxuICAgICAgICAgICAgXCJhd3M6UmVxdWVzdFRhZy90b3BvbG9neS5rdWJlcm5ldGVzLmlvL3JlZ2lvblwiOiBgJHtyZWdpb259YFxuICAgICAgICB9XG4gICAgfSk7XG4gICAgY29uc3QgY29uZGl0aW9uNSA9IG5ldyBDZm5Kc29uKGNsdXN0ZXIuc3RhY2ssICdjb25kaXRpb24tb3duZWQtcmVzb3VyY2UtdGFnLXRvcG9sb2d5Jywge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgW2Bhd3M6UmVzb3VyY2VUYWcva3ViZXJuZXRlcy5pby9jbHVzdGVyLyR7Y2x1c3Rlci5jbHVzdGVyTmFtZX1gXTogXCJvd25lZFwiLFxuICAgICAgICAgICAgXCJhd3M6UmVzb3VyY2VUYWcvdG9wb2xvZ3kua3ViZXJuZXRlcy5pby9yZWdpb25cIjogYCR7cmVnaW9ufWBcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGNvbnN0IGNvbmRpdGlvbjYgPSBuZXcgQ2ZuSnNvbihjbHVzdGVyLnN0YWNrLCAnY29uZGl0aW9uLW93bmVkLWNsdXN0ZXItdGFnLWVjMi1hY3Rpb25zJywge1xuICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgW2Bhd3M6UmVxdWVzdFRhZy9rdWJlcm5ldGVzLmlvL2NsdXN0ZXIvJHtjbHVzdGVyLmNsdXN0ZXJOYW1lfWBdOiBcIm93bmVkXCIsXG4gICAgICAgICAgICBcImVjMjpDcmVhdGVBY3Rpb25cIjogW1wiUnVuSW5zdGFuY2VzXCIsIFwiQ3JlYXRlRmxlZXRcIiwgXCJDcmVhdGVMYXVuY2hUZW1wbGF0ZVwiXVxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIFxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgXCJWZXJzaW9uXCI6IFwiMjAxMi0xMC0xN1wiLFxuICAgICAgICBcIlN0YXRlbWVudFwiOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJTaWRcIjogXCJBbGxvd1Njb3BlZEVDMkluc3RhbmNlQWN0aW9uc1wiLFxuICAgICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgYGFybjoke3BhcnRpdGlvbn06ZWMyOiR7cmVnaW9ufTo6aW1hZ2UvKmAsXG4gICAgICAgICAgICAgICAgICAgIGBhcm46JHtwYXJ0aXRpb259OmVjMjoke3JlZ2lvbn06OnNuYXBzaG90LypgLFxuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6c3BvdC1pbnN0YW5jZXMtcmVxdWVzdC8qYCxcbiAgICAgICAgICAgICAgICAgICAgYGFybjoke3BhcnRpdGlvbn06ZWMyOiR7cmVnaW9ufToqOnNlY3VyaXR5LWdyb3VwLypgLFxuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6c3VibmV0LypgLFxuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6bGF1bmNoLXRlbXBsYXRlLypgXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcIkFjdGlvblwiOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiZWMyOlJ1bkluc3RhbmNlc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpDcmVhdGVGbGVldFwiXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIlNpZFwiOiBcIkFsbG93U2NvcGVkRUMySW5zdGFuY2VBY3Rpb25zV2l0aFRhZ3NcIixcbiAgICAgICAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgICAgICAgXCJSZXNvdXJjZVwiOiBbXG4gICAgICAgICAgICAgICAgICAgIGBhcm46JHtwYXJ0aXRpb259OmVjMjoke3JlZ2lvbn06KjpmbGVldC8qYCxcbiAgICAgICAgICAgICAgICAgICAgYGFybjoke3BhcnRpdGlvbn06ZWMyOiR7cmVnaW9ufToqOmluc3RhbmNlLypgLFxuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6dm9sdW1lLypgLFxuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6bmV0d29yay1pbnRlcmZhY2UvKmAsXG4gICAgICAgICAgICAgICAgICAgIGBhcm46JHtwYXJ0aXRpb259OmVjMjoke3JlZ2lvbn06KjpsYXVuY2gtdGVtcGxhdGUvKmAsXG4gICAgICAgICAgICAgICAgICAgIGBhcm46JHtwYXJ0aXRpb259OmVjMjoke3JlZ2lvbn06KjpzcG90LWluc3RhbmNlcy1yZXF1ZXN0LypgXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcIkFjdGlvblwiOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiZWMyOlJ1bkluc3RhbmNlc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpDcmVhdGVGbGVldFwiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpDcmVhdGVMYXVuY2hUZW1wbGF0ZVwiXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBcIkNvbmRpdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiU3RyaW5nRXF1YWxzXCI6IGNvbmRpdGlvbjEsXG4gICAgICAgICAgICAgICAgICAgIFwiU3RyaW5nTGlrZVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImF3czpSZXF1ZXN0VGFnL2thcnBlbnRlci5zaC9ub2RlcG9vbFwiOiBcIipcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJTaWRcIjogXCJBbGxvd1Njb3BlZFJlc291cmNlQ3JlYXRpb25UYWdnaW5nXCIsXG4gICAgICAgICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgICAgICAgIFwiUmVzb3VyY2VcIjogW1xuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6ZmxlZXQvKmAsXG4gICAgICAgICAgICAgICAgICAgIGBhcm46JHtwYXJ0aXRpb259OmVjMjoke3JlZ2lvbn06KjppbnN0YW5jZS8qYCxcbiAgICAgICAgICAgICAgICAgICAgYGFybjoke3BhcnRpdGlvbn06ZWMyOiR7cmVnaW9ufToqOnZvbHVtZS8qYCxcbiAgICAgICAgICAgICAgICAgICAgYGFybjoke3BhcnRpdGlvbn06ZWMyOiR7cmVnaW9ufToqOm5ldHdvcmstaW50ZXJmYWNlLypgLFxuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6bGF1bmNoLXRlbXBsYXRlLypgLFxuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6c3BvdC1pbnN0YW5jZXMtcmVxdWVzdC8qYFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCJBY3Rpb25cIjogXCJlYzI6Q3JlYXRlVGFnc1wiLFxuICAgICAgICAgICAgICAgIFwiQ29uZGl0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdFcXVhbHNcIjogY29uZGl0aW9uNixcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdMaWtlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXdzOlJlcXVlc3RUYWcva2FycGVudGVyLnNoL25vZGVwb29sXCI6IFwiKlwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiU2lkXCI6IFwiQWxsb3dTY29wZWRSZXNvdXJjZVRhZ2dpbmdcIixcbiAgICAgICAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgICAgICAgXCJSZXNvdXJjZVwiOiBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6aW5zdGFuY2UvKmAsXG4gICAgICAgICAgICAgICAgXCJBY3Rpb25cIjogXCJlYzI6Q3JlYXRlVGFnc1wiLFxuICAgICAgICAgICAgICAgIFwiQ29uZGl0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdFcXVhbHNcIjogY29uZGl0aW9uMixcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdMaWtlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXdzOlJlc291cmNlVGFnL2thcnBlbnRlci5zaC9ub2RlcG9vbFwiOiBcIipcIlxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcIkZvckFsbFZhbHVlczpTdHJpbmdFcXVhbHNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJhd3M6VGFnS2V5c1wiOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJrYXJwZW50ZXIuc2gvbm9kZWNsYWltXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJOYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJTaWRcIjogXCJBbGxvd1Njb3BlZERlbGV0aW9uXCIsXG4gICAgICAgICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgICAgICAgIFwiUmVzb3VyY2VcIjogW1xuICAgICAgICAgICAgICAgICAgICBgYXJuOiR7cGFydGl0aW9ufTplYzI6JHtyZWdpb259Oio6aW5zdGFuY2UvKmAsXG4gICAgICAgICAgICAgICAgICAgIGBhcm46JHtwYXJ0aXRpb259OmVjMjoke3JlZ2lvbn06KjpsYXVuY2gtdGVtcGxhdGUvKmBcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJlYzI6VGVybWluYXRlSW5zdGFuY2VzXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiZWMyOkRlbGV0ZUxhdW5jaFRlbXBsYXRlXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiQ29uZGl0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdFcXVhbHNcIjogY29uZGl0aW9uMixcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdMaWtlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXdzOlJlc291cmNlVGFnL2thcnBlbnRlci5zaC9ub2RlcG9vbFwiOiBcIipcIlxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIlNpZFwiOiBcIkFsbG93UmVnaW9uYWxSZWFkQWN0aW9uc1wiLFxuICAgICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IFwiKlwiLFxuICAgICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJlYzI6RGVzY3JpYmVBdmFpbGFiaWxpdHlab25lc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZUltYWdlc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZUluc3RhbmNlc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZUluc3RhbmNlVHlwZU9mZmVyaW5nc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZUluc3RhbmNlVHlwZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlYzI6RGVzY3JpYmVMYXVuY2hUZW1wbGF0ZXNcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlYzI6RGVzY3JpYmVTZWN1cml0eUdyb3Vwc1wiLFxuICAgICAgICAgICAgICAgICAgICBcImVjMjpEZXNjcmliZVNwb3RQcmljZUhpc3RvcnlcIixcbiAgICAgICAgICAgICAgICAgICAgXCJlYzI6RGVzY3JpYmVTdWJuZXRzXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiQ29uZGl0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdFcXVhbHNcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJhd3M6UmVxdWVzdGVkUmVnaW9uXCI6IGAke3JlZ2lvbn1gXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiU2lkXCI6IFwiQWxsb3dTU01SZWFkQWN0aW9uc1wiLFxuICAgICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IGBhcm46JHtwYXJ0aXRpb259OnNzbToke3JlZ2lvbn06OnBhcmFtZXRlci9hd3Mvc2VydmljZS8qYCxcbiAgICAgICAgICAgICAgICBcIkFjdGlvblwiOiBcInNzbTpHZXRQYXJhbWV0ZXJcIlxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBcIlNpZFwiOiBcIkFsbG93UHJpY2luZ1JlYWRBY3Rpb25zXCIsXG4gICAgICAgICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgICAgICAgIFwiUmVzb3VyY2VcIjogXCIqXCIsXG4gICAgICAgICAgICAgICAgXCJBY3Rpb25cIjogXCJwcmljaW5nOkdldFByb2R1Y3RzXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJTaWRcIjogXCJBbGxvd1Njb3BlZEluc3RhbmNlUHJvZmlsZUNyZWF0aW9uQWN0aW9uc1wiLFxuICAgICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IFwiKlwiLFxuICAgICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFtcbiAgICAgICAgICAgICAgICAgICAgXCJpYW06Q3JlYXRlSW5zdGFuY2VQcm9maWxlXCJcbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIFwiQ29uZGl0aW9uXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdFcXVhbHNcIjogY29uZGl0aW9uMyxcbiAgICAgICAgICAgICAgICAgICAgXCJTdHJpbmdMaWtlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiYXdzOlJlcXVlc3RUYWcva2FycGVudGVyLms4cy5hd3MvZWMybm9kZWNsYXNzXCI6IFwiKlwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiU2lkXCI6IFwiQWxsb3dTY29wZWRJbnN0YW5jZVByb2ZpbGVUYWdBY3Rpb25zXCIsXG4gICAgICAgICAgICAgICAgXCJFZmZlY3RcIjogXCJBbGxvd1wiLFxuICAgICAgICAgICAgICAgIFwiUmVzb3VyY2VcIjogXCIqXCIsXG4gICAgICAgICAgICAgICAgXCJBY3Rpb25cIjogW1xuICAgICAgICAgICAgICAgICAgICBcImlhbTpUYWdJbnN0YW5jZVByb2ZpbGVcIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCJDb25kaXRpb25cIjoge1xuICAgICAgICAgICAgICAgICAgICBcIlN0cmluZ0VxdWFsc1wiOiBjb25kaXRpb240LFxuICAgICAgICAgICAgICAgICAgICBcIlN0cmluZ0xpa2VcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJhd3M6UmVzb3VyY2VUYWcva2FycGVudGVyLms4cy5hd3MvZWMybm9kZWNsYXNzXCI6IFwiKlwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJhd3M6UmVxdWVzdFRhZy9rYXJwZW50ZXIuazhzLmF3cy9lYzJub2RlY2xhc3NcIjogXCIqXCJcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgXCJTaWRcIjogXCJBbGxvd1Njb3BlZEluc3RhbmNlUHJvZmlsZUFjdGlvbnNcIixcbiAgICAgICAgICAgICAgICBcIkVmZmVjdFwiOiBcIkFsbG93XCIsXG4gICAgICAgICAgICAgICAgXCJSZXNvdXJjZVwiOiBcIipcIixcbiAgICAgICAgICAgICAgICBcIkFjdGlvblwiOiBbXG4gICAgICAgICAgICAgICAgICAgIFwiaWFtOkFkZFJvbGVUb0luc3RhbmNlUHJvZmlsZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImlhbTpSZW1vdmVSb2xlRnJvbUluc3RhbmNlUHJvZmlsZVwiLFxuICAgICAgICAgICAgICAgICAgICBcImlhbTpEZWxldGVJbnN0YW5jZVByb2ZpbGVcIlxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgXCJDb25kaXRpb25cIjoge1xuICAgICAgICAgICAgICAgICAgICBcIlN0cmluZ0VxdWFsc1wiOiBjb25kaXRpb241LFxuICAgICAgICAgICAgICAgICAgICBcIlN0cmluZ0xpa2VcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJhd3M6UmVzb3VyY2VUYWcva2FycGVudGVyLms4cy5hd3MvZWMybm9kZWNsYXNzXCI6IFwiKlwiXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiU2lkXCI6IFwiQWxsb3dJbnN0YW5jZVByb2ZpbGVSZWFkQWN0aW9uc1wiLFxuICAgICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IFwiKlwiLFxuICAgICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFwiaWFtOkdldEluc3RhbmNlUHJvZmlsZVwiXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFwiU2lkXCI6IFwiQWxsb3dBUElTZXJ2ZXJFbmRwb2ludERpc2NvdmVyeVwiLFxuICAgICAgICAgICAgICAgIFwiRWZmZWN0XCI6IFwiQWxsb3dcIixcbiAgICAgICAgICAgICAgICBcIlJlc291cmNlXCI6IGAke2NsdXN0ZXIuY2x1c3RlckFybn1gLFxuICAgICAgICAgICAgICAgIFwiQWN0aW9uXCI6IFwiZWtzOkRlc2NyaWJlQ2x1c3RlclwiXG4gICAgICAgICAgICB9ICAgIFxuICAgICAgICBdXG4gICAgfTtcbn07XG5cbmV4cG9ydCBjb25zdCBLYXJwZW50ZXJDb250cm9sbGVyUG9saWN5VjEgPSBLYXJwZW50ZXJDb250cm9sbGVyUG9saWN5QmV0YTsiXX0=