"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createNamespace = createNamespace;
const aws_eks_1 = require("aws-cdk-lib/aws-eks");
/**
  * Creates namespace
  * (a prerequisite for serviceaccount and helm chart execution for many add-ons).
  * @param name
  * @param cluster
  * @param overwrite
  * @param prune
  * @returns KubernetesManifest
  */
function createNamespace(name, cluster, overwrite, prune, annotations, labels) {
    if (name === "kube-system") {
        return cluster.clusterSecurityGroup; // a construct that is populated for the cluster l
    }
    return new aws_eks_1.KubernetesManifest(cluster.stack, `${name}-namespace-struct`, {
        cluster: cluster,
        manifest: [{
                apiVersion: 'v1',
                kind: 'Namespace',
                metadata: {
                    name: name,
                    annotations,
                    labels
                }
            }],
        overwrite: overwrite !== null && overwrite !== void 0 ? overwrite : true,
        prune: prune !== null && prune !== void 0 ? prune : true
    });
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibmFtZXNwYWNlLXV0aWxzLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vbGliL3V0aWxzL25hbWVzcGFjZS11dGlscy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQWFBLDBDQWtCQztBQS9CRCxpREFBeUQ7QUFJekQ7Ozs7Ozs7O0lBUUk7QUFDSixTQUFnQixlQUFlLENBQUMsSUFBWSxFQUFFLE9BQXFCLEVBQUUsU0FBbUIsRUFBRSxLQUFlLEVBQUUsV0FBb0IsRUFBRSxNQUFnQjtJQUM3SSxJQUFHLElBQUksS0FBSyxhQUFhLEVBQUUsQ0FBQztRQUN4QixPQUFPLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDLGtEQUFrRDtJQUMzRixDQUFDO0lBQ0QsT0FBTyxJQUFJLDRCQUFrQixDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsR0FBRyxJQUFJLG1CQUFtQixFQUFFO1FBQ3JFLE9BQU8sRUFBRSxPQUFPO1FBQ2hCLFFBQVEsRUFBRSxDQUFDO2dCQUNQLFVBQVUsRUFBRSxJQUFJO2dCQUNoQixJQUFJLEVBQUUsV0FBVztnQkFDakIsUUFBUSxFQUFFO29CQUNOLElBQUksRUFBRSxJQUFJO29CQUNWLFdBQVc7b0JBQ1gsTUFBTTtpQkFDVDthQUNKLENBQUM7UUFDRixTQUFTLEVBQUUsU0FBUyxhQUFULFNBQVMsY0FBVCxTQUFTLEdBQUksSUFBSTtRQUM1QixLQUFLLEVBQUUsS0FBSyxhQUFMLEtBQUssY0FBTCxLQUFLLEdBQUksSUFBSTtLQUN2QixDQUFDLENBQUM7QUFDUCxDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgS3ViZXJuZXRlc01hbmlmZXN0IH0gZnJvbSBcImF3cy1jZGstbGliL2F3cy1la3NcIjtcbmltcG9ydCAqIGFzIGVrcyBmcm9tIFwiYXdzLWNkay1saWIvYXdzLWVrc1wiO1xuaW1wb3J0IHsgVmFsdWVzIH0gZnJvbSBcIi4uL3NwaVwiO1xuXG4vKipcbiAgKiBDcmVhdGVzIG5hbWVzcGFjZVxuICAqIChhIHByZXJlcXVpc2l0ZSBmb3Igc2VydmljZWFjY291bnQgYW5kIGhlbG0gY2hhcnQgZXhlY3V0aW9uIGZvciBtYW55IGFkZC1vbnMpLlxuICAqIEBwYXJhbSBuYW1lXG4gICogQHBhcmFtIGNsdXN0ZXJcbiAgKiBAcGFyYW0gb3ZlcndyaXRlXG4gICogQHBhcmFtIHBydW5lIFxuICAqIEByZXR1cm5zIEt1YmVybmV0ZXNNYW5pZmVzdFxuICAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5hbWVzcGFjZShuYW1lOiBzdHJpbmcsIGNsdXN0ZXI6IGVrcy5JQ2x1c3Rlciwgb3ZlcndyaXRlPzogYm9vbGVhbiwgcHJ1bmU/OiBib29sZWFuLCBhbm5vdGF0aW9ucz86IFZhbHVlcywgbGFiZWxzPyA6IFZhbHVlcykge1xuICAgIGlmKG5hbWUgPT09IFwia3ViZS1zeXN0ZW1cIikge1xuICAgICAgICByZXR1cm4gY2x1c3Rlci5jbHVzdGVyU2VjdXJpdHlHcm91cDsgLy8gYSBjb25zdHJ1Y3QgdGhhdCBpcyBwb3B1bGF0ZWQgZm9yIHRoZSBjbHVzdGVyIGxcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBLdWJlcm5ldGVzTWFuaWZlc3QoY2x1c3Rlci5zdGFjaywgYCR7bmFtZX0tbmFtZXNwYWNlLXN0cnVjdGAsIHtcbiAgICAgICAgY2x1c3RlcjogY2x1c3RlcixcbiAgICAgICAgbWFuaWZlc3Q6IFt7XG4gICAgICAgICAgICBhcGlWZXJzaW9uOiAndjEnLFxuICAgICAgICAgICAga2luZDogJ05hbWVzcGFjZScsXG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgYW5ub3RhdGlvbnMsXG4gICAgICAgICAgICAgICAgbGFiZWxzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1dLFxuICAgICAgICBvdmVyd3JpdGU6IG92ZXJ3cml0ZSA/PyB0cnVlLFxuICAgICAgICBwcnVuZTogcHJ1bmUgPz8gdHJ1ZVxuICAgIH0pO1xufSJdfQ==