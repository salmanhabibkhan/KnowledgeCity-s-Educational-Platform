"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.listStacks = listStacks;
const cxapp_1 = require("../cxapp");
/**
 * List Stacks
 *
 * @param toolkit cdk toolkit
 * @param options list stacks options
 * @returns StackDetails[]
 */
async function listStacks(toolkit, options) {
    const assembly = await toolkit.assembly();
    const stacks = await assembly.selectStacks({
        patterns: options.selectors,
    }, {
        extend: cxapp_1.ExtendedStackSelection.Upstream,
        defaultBehavior: cxapp_1.DefaultSelection.AllStacks,
    });
    return stacks.withDependencies();
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlzdC1zdGFja3MuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJsaXN0LXN0YWNrcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQXVCQSxnQ0FXQztBQWhDRCxvQ0FBb0U7QUFjcEU7Ozs7OztHQU1HO0FBQ0ksS0FBSyxVQUFVLFVBQVUsQ0FBQyxPQUFtQixFQUFFLE9BQTBCO0lBQzlFLE1BQU0sUUFBUSxHQUFHLE1BQU0sT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO0lBRTFDLE1BQU0sTUFBTSxHQUFHLE1BQU0sUUFBUSxDQUFDLFlBQVksQ0FBQztRQUN6QyxRQUFRLEVBQUUsT0FBTyxDQUFDLFNBQVM7S0FDNUIsRUFBRTtRQUNELE1BQU0sRUFBRSw4QkFBc0IsQ0FBQyxRQUFRO1FBQ3ZDLGVBQWUsRUFBRSx3QkFBZ0IsQ0FBQyxTQUFTO0tBQzVDLENBQUMsQ0FBQztJQUVILE9BQU8sTUFBTSxDQUFDLGdCQUFnQixFQUFFLENBQUM7QUFDbkMsQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgU3RhY2tEZXRhaWxzIH0gZnJvbSAnQGF3cy1jZGsvdG1wLXRvb2xraXQtaGVscGVycyc7XG5pbXBvcnQgdHlwZSB7IENka1Rvb2xraXQgfSBmcm9tICcuLi9jbGkvY2RrLXRvb2xraXQnO1xuaW1wb3J0IHsgRGVmYXVsdFNlbGVjdGlvbiwgRXh0ZW5kZWRTdGFja1NlbGVjdGlvbiB9IGZyb20gJy4uL2N4YXBwJztcblxuLyoqXG4gKiBPcHRpb25zIGZvciBMaXN0IFN0YWNrc1xuICovXG5leHBvcnQgaW50ZXJmYWNlIExpc3RTdGFja3NPcHRpb25zIHtcbiAgLyoqXG4gICAqIFN0YWNrcyB0byBsaXN0XG4gICAqXG4gICAqIEBkZWZhdWx0IC0gQWxsIHN0YWNrcyBhcmUgbGlzdGVkXG4gICAqL1xuICByZWFkb25seSBzZWxlY3RvcnM6IHN0cmluZ1tdO1xufVxuXG4vKipcbiAqIExpc3QgU3RhY2tzXG4gKlxuICogQHBhcmFtIHRvb2xraXQgY2RrIHRvb2xraXRcbiAqIEBwYXJhbSBvcHRpb25zIGxpc3Qgc3RhY2tzIG9wdGlvbnNcbiAqIEByZXR1cm5zIFN0YWNrRGV0YWlsc1tdXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBsaXN0U3RhY2tzKHRvb2xraXQ6IENka1Rvb2xraXQsIG9wdGlvbnM6IExpc3RTdGFja3NPcHRpb25zKTogUHJvbWlzZTxTdGFja0RldGFpbHNbXT4ge1xuICBjb25zdCBhc3NlbWJseSA9IGF3YWl0IHRvb2xraXQuYXNzZW1ibHkoKTtcblxuICBjb25zdCBzdGFja3MgPSBhd2FpdCBhc3NlbWJseS5zZWxlY3RTdGFja3Moe1xuICAgIHBhdHRlcm5zOiBvcHRpb25zLnNlbGVjdG9ycyxcbiAgfSwge1xuICAgIGV4dGVuZDogRXh0ZW5kZWRTdGFja1NlbGVjdGlvbi5VcHN0cmVhbSxcbiAgICBkZWZhdWx0QmVoYXZpb3I6IERlZmF1bHRTZWxlY3Rpb24uQWxsU3RhY2tzLFxuICB9KTtcblxuICByZXR1cm4gc3RhY2tzLndpdGhEZXBlbmRlbmNpZXMoKTtcbn1cbiJdfQ==